{

  "Logging": {
    "IncludeScopes": false,
    "Debug": {
      "LogLevel": {
        "Default": "Debug"
      }
    },
    "Console": {
      "LogLevel": {
        "Default": "Debug"
      }
    }
  },
  "SERVICE_REGISTRY_ADDRESS": "localhost",
  "SERVICE_REGISTRY_PORT": "8500",
  "SERVICE_SELF_REGISTER": true,
  "SERVICE_NAME": "dwh-canal-exchange",
  "SERVICE_TAGS": "dev,test,sbx",
  "SERVICE_REGION": "dc1",
  "SERVICE_80_CHECK_HTTP": "/healthcheck",
  "SERVICE_80_CHECK_INTERVAL": "15",
  "SERVICE_80_CHECK_TIMEOUT": "15",
  "SERVICE_CHECK_TTL": 300,
  "SERVICE_CHECK_INTERVAL": "5",
  "SERVICE_CHECK_TIMEOUT": "5",
  "Kafka": {
    "Sender": {
      "Debug": "msg", //broker,topic,msg
      "bootstrap.servers": "192.168.87.7:9092"

    },
    "Receiver": {
      "Debug": "consumer,cgrp,topic,fetch", //consumer,cgrp,topic,fetch
      "GroupId": "test15",
      "bootstrap.servers": "192.168.87.7:9092"
    }
  },
  "Databus": {
    "Routers": [
     
      //统计服务/开发环境
      {
        "input": { "topic": "canal_hwb_dev" },
        "output": [
          {
            "topic": "canal_hwb_dev2.{database}.{table}",
            "mapping": {
              "table": [
                /* order_attach_1 > order_attach */
                {
                  "pattern": "^(\\D+)(_\\d+)*(\\D+)*$",
                  "replacement": "$1$3"
                }
              ],
              "database": [
                /* 
                  lms_orderservice_3_test > lms_orderservice_test
                  lms_orderservice_3      > lms_orderservice
                  gc_fps_payable_test_1   > gc_fps_payable_test
                  gc_fps_payable_1        > gc_fps_payable
                */
                {
                  "pattern": "^(\\D+)(_\\d+)*(\\D+)*$",
                  "replacement": "$1$3"
                }
              ]

            },
            "dbInclude": [],
            "tableInclude": [
            ]
          }
        ]
      },
      //统计服务/测试环境
      {
        "input": { "topic": "canal_hwb_test" },
        "output": [
          {
            "topic": "canal_hwb_test.{database}.{table}",
            "mapping": {
              "table": [
                /* order_attach_1 > order_attach */
                {
                  "pattern": "^(\\D+)(_\\d+)*(\\D+)*$",
                  "replacement": "$1$3"
                }
              ],
              "database": [
                /* 
                  lms_orderservice_3_test > lms_orderservice_test
                  lms_orderservice_3      > lms_orderservice
                  gc_fps_payable_test_1   > gc_fps_payable_test
                  gc_fps_payable_1        > gc_fps_payable
                */
                {
                  "pattern": "^(\\D+)(_\\d+)*(\\D+)*$",
                  "replacement": "$1$3"
                }
              ]

            },
            "dbInclude": [],
            "tableInclude": [
            ]
          }
        ]
      },
      //统计服务/测试环境
      {
        "input": { "topic": "canal_hwb_sbx" },
        "output": [
          {
            "topic": "canal_hwb_sbx.{database}.{table}",
            "mapping": {
              "table": [
                /* order_attach_1 > order_attach */
                {
                  "pattern": "^(\\D+)(_\\d+)*(\\D+)*$",
                  "replacement": "$1$3"
                }
              ],
              "database": [
                /* 
                  lms_orderservice_3_test > lms_orderservice_test
                  lms_orderservice_3      > lms_orderservice
                  gc_fps_payable_test_1   > gc_fps_payable_test
                  gc_fps_payable_1        > gc_fps_payable
                */
                {
                  "pattern": "^(\\D+)(_\\d+)*(\\D+)*$",
                  "replacement": "$1$3"
                }
              ]

            },
            "dbInclude": [],
            "tableInclude": [
            ]
          }
        ]
      }
    ]
  }

}




